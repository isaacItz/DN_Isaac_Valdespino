2022-01-29 01:17:56.983 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 01:22:47.515 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 01:38:52.405 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 01:39:28.028 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 01:42:00.134 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 01:42:00.495 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='gymmanager' AND TABLE_NAME='__EFMigrationsHistory';
2022-01-29 01:42:00.520 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='gymmanager' AND TABLE_NAME='__EFMigrationsHistory';
2022-01-29 01:42:00.587 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2022-01-29 01:42:00.631 +00:00 [INF] Applying migration '20220129012247_Init-Migration2'.
2022-01-29 01:42:00.949 +00:00 [INF] Executed DbCommand (229ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20220129012247_Init-Migration2', '6.0.1');
2022-01-29 01:42:01.023 +00:00 [INF] Applying migration '20220129013928_Init-prueba'.
2022-01-29 01:42:02.235 +00:00 [INF] Executed DbCommand (1,039ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Cities` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Name` longtext CHARACTER SET utf8mb4 NOT NULL,
    CONSTRAINT `PK_Cities` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2022-01-29 01:42:02.288 +00:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20220129013928_Init-prueba', '6.0.1');
2022-01-29 01:59:48.178 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 02:16:04.961 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 02:18:25.621 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 02:18:25.982 +00:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='gymmanager' AND TABLE_NAME='__EFMigrationsHistory';
2022-01-29 02:18:26.051 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2022-01-29 02:19:24.553 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 02:19:24.864 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='gymmanager' AND TABLE_NAME='__EFMigrationsHistory';
2022-01-29 02:19:24.884 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='gymmanager' AND TABLE_NAME='__EFMigrationsHistory';
2022-01-29 02:19:24.943 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2022-01-29 02:19:24.984 +00:00 [INF] Applying migration '20220129015948_prueba-productos'.
2022-01-29 02:19:26.439 +00:00 [INF] Executed DbCommand (1,275ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Cities` MODIFY COLUMN `Name` varchar(200) CHARACTER SET utf8mb4 NOT NULL;
2022-01-29 02:19:26.796 +00:00 [INF] Executed DbCommand (357ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `MeasureTypes` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Name` int NOT NULL,
    CONSTRAINT `PK_MeasureTypes` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2022-01-29 02:19:27.136 +00:00 [INF] Executed DbCommand (340ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `ProductTypes` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Name` varchar(200) CHARACTER SET utf8mb4 NOT NULL,
    CONSTRAINT `PK_ProductTypes` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2022-01-29 02:19:27.670 +00:00 [INF] Executed DbCommand (534ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Products` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Name` varchar(200) CHARACTER SET utf8mb4 NOT NULL,
    `Brand` varchar(200) CHARACTER SET utf8mb4 NOT NULL,
    `Amount` decimal(65,30) NOT NULL,
    `MeasureTypeId` int NOT NULL,
    `ProductTypeId` int NOT NULL,
    CONSTRAINT `PK_Products` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_Products_MeasureTypes_MeasureTypeId` FOREIGN KEY (`MeasureTypeId`) REFERENCES `MeasureTypes` (`Id`) ON DELETE CASCADE,
    CONSTRAINT `FK_Products_ProductTypes_ProductTypeId` FOREIGN KEY (`ProductTypeId`) REFERENCES `ProductTypes` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2022-01-29 02:19:28.077 +00:00 [INF] Executed DbCommand (406ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `ProductPrices` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Price` decimal(65,30) NOT NULL,
    `Date` datetime(6) NOT NULL,
    `ProductId` int NOT NULL,
    CONSTRAINT `PK_ProductPrices` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_ProductPrices_Products_ProductId` FOREIGN KEY (`ProductId`) REFERENCES `Products` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2022-01-29 02:19:28.384 +00:00 [INF] Executed DbCommand (307ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_ProductPrices_ProductId` ON `ProductPrices` (`ProductId`);
2022-01-29 02:19:28.870 +00:00 [INF] Executed DbCommand (485ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Products_MeasureTypeId` ON `Products` (`MeasureTypeId`);
2022-01-29 02:19:29.141 +00:00 [INF] Executed DbCommand (271ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Products_ProductTypeId` ON `Products` (`ProductTypeId`);
2022-01-29 02:19:29.173 +00:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20220129015948_prueba-productos', '6.0.1');
2022-01-29 02:19:29.186 +00:00 [INF] Applying migration '20220129021605_prueba-02-15'.
2022-01-29 02:19:29.242 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20220129021605_prueba-02-15', '6.0.1');
2022-01-29 03:34:55.051 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 03:36:04.493 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 03:36:04.850 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='gymmanager' AND TABLE_NAME='__EFMigrationsHistory';
2022-01-29 03:36:04.875 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='gymmanager' AND TABLE_NAME='__EFMigrationsHistory';
2022-01-29 03:36:04.940 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2022-01-29 03:36:04.986 +00:00 [INF] Applying migration '20220129033455_prueba-03-34'.
2022-01-29 03:36:05.700 +00:00 [INF] Executed DbCommand (487ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `EquipmentTypes` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Name` varchar(200) CHARACTER SET utf8mb4 NOT NULL,
    `Description` longtext CHARACTER SET utf8mb4 NOT NULL,
    CONSTRAINT `PK_EquipmentTypes` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2022-01-29 03:36:06.163 +00:00 [INF] Executed DbCommand (462ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Members` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Name` varchar(15) CHARACTER SET utf8mb4 NOT NULL,
    `LastName` varchar(20) CHARACTER SET utf8mb4 NOT NULL,
    `BirthDay` datetime(6) NOT NULL,
    `RegisteredDate` datetime(6) NOT NULL,
    `CityId` int NOT NULL,
    `Email` longtext CHARACTER SET utf8mb4 NOT NULL,
    `AllowNewsLetter` tinyint(1) NOT NULL,
    CONSTRAINT `PK_Members` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_Members_Cities_CityId` FOREIGN KEY (`CityId`) REFERENCES `Cities` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2022-01-29 03:36:06.546 +00:00 [INF] Executed DbCommand (383ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Memberships` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Name` varchar(50) CHARACTER SET utf8mb4 NOT NULL,
    `Cost` decimal(65,30) NOT NULL,
    `CreatedOn` datetime(6) NOT NULL,
    `Duration` int NOT NULL,
    `DurationMeasure` longtext CHARACTER SET utf8mb4 NOT NULL,
    CONSTRAINT `PK_Memberships` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2022-01-29 03:36:07.013 +00:00 [INF] Executed DbCommand (467ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Refills` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Quantity` int NOT NULL,
    `Stock` int NOT NULL,
    `Expiration` datetime(6) NOT NULL,
    `RefilledDate` datetime(6) NOT NULL,
    `CostPerUnit` decimal(65,30) NOT NULL,
    `ProductId` int NOT NULL,
    CONSTRAINT `PK_Refills` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_Refills_Products_ProductId` FOREIGN KEY (`ProductId`) REFERENCES `Products` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2022-01-29 03:36:07.371 +00:00 [INF] Executed DbCommand (357ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Sales` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `SaleDate` datetime(6) NOT NULL,
    `Amount` decimal(65,30) NOT NULL,
    CONSTRAINT `PK_Sales` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2022-01-29 03:36:07.887 +00:00 [INF] Executed DbCommand (515ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `MemberMemberships` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Date` datetime(6) NOT NULL,
    `MembershipId` int NOT NULL,
    `MemberId` int NOT NULL,
    `status` tinyint(1) NOT NULL,
    CONSTRAINT `PK_MemberMemberships` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_MemberMemberships_Members_MemberId` FOREIGN KEY (`MemberId`) REFERENCES `Members` (`Id`) ON DELETE CASCADE,
    CONSTRAINT `FK_MemberMemberships_Memberships_MembershipId` FOREIGN KEY (`MembershipId`) REFERENCES `Memberships` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2022-01-29 03:36:08.258 +00:00 [INF] Executed DbCommand (371ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `SaleRows` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Quantity` int NOT NULL,
    `saleId` int NOT NULL,
    CONSTRAINT `PK_SaleRows` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_SaleRows_Sales_saleId` FOREIGN KEY (`saleId`) REFERENCES `Sales` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2022-01-29 03:36:08.583 +00:00 [INF] Executed DbCommand (324ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_MemberMemberships_MemberId` ON `MemberMemberships` (`MemberId`);
2022-01-29 03:36:08.913 +00:00 [INF] Executed DbCommand (330ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_MemberMemberships_MembershipId` ON `MemberMemberships` (`MembershipId`);
2022-01-29 03:36:09.264 +00:00 [INF] Executed DbCommand (351ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Members_CityId` ON `Members` (`CityId`);
2022-01-29 03:36:09.629 +00:00 [INF] Executed DbCommand (364ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Refills_ProductId` ON `Refills` (`ProductId`);
2022-01-29 03:36:09.932 +00:00 [INF] Executed DbCommand (304ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_SaleRows_saleId` ON `SaleRows` (`saleId`);
2022-01-29 03:36:09.984 +00:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20220129033455_prueba-03-34', '6.0.1');
2022-01-29 03:49:41.051 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 04:05:52.877 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 04:06:25.155 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 04:06:25.476 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='gymmanager' AND TABLE_NAME='__EFMigrationsHistory';
2022-01-29 04:06:25.497 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='gymmanager' AND TABLE_NAME='__EFMigrationsHistory';
2022-01-29 04:06:25.554 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2022-01-29 04:06:25.591 +00:00 [INF] Applying migration '20220129034942_prueba-03-48'.
2022-01-29 04:06:25.978 +00:00 [INF] Executed DbCommand (250ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `SaleRows` ADD `RefilledId` int NOT NULL DEFAULT 0;
2022-01-29 04:06:26.173 +00:00 [INF] Executed DbCommand (195ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_SaleRows_RefilledId` ON `SaleRows` (`RefilledId`);
2022-01-29 04:06:27.536 +00:00 [INF] Executed DbCommand (1,362ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `SaleRows` ADD CONSTRAINT `FK_SaleRows_Refills_RefilledId` FOREIGN KEY (`RefilledId`) REFERENCES `Refills` (`Id`) ON DELETE CASCADE;
2022-01-29 04:06:27.586 +00:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20220129034942_prueba-03-48', '6.0.1');
2022-01-29 04:06:27.598 +00:00 [INF] Applying migration '20220129040553_prueba-04-05'.
2022-01-29 04:06:27.674 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20220129040553_prueba-04-05', '6.0.1');
2022-01-29 04:14:12.334 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 04:14:37.750 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 04:14:38.071 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='gymmanager' AND TABLE_NAME='__EFMigrationsHistory';
2022-01-29 04:14:38.093 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='gymmanager' AND TABLE_NAME='__EFMigrationsHistory';
2022-01-29 04:14:38.147 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2022-01-29 04:14:38.208 +00:00 [INF] Applying migration '20220129041412_prueba-04-13'.
2022-01-29 04:14:39.213 +00:00 [INF] Executed DbCommand (759ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Memberships` MODIFY COLUMN `Cost` decimal(10,2) NOT NULL;
2022-01-29 04:14:39.261 +00:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20220129041412_prueba-04-13', '6.0.1');
2022-01-29 04:18:54.455 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 04:19:19.977 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 04:19:20.341 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='gymmanager' AND TABLE_NAME='__EFMigrationsHistory';
2022-01-29 04:19:20.362 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='gymmanager' AND TABLE_NAME='__EFMigrationsHistory';
2022-01-29 04:19:20.421 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2022-01-29 04:19:20.472 +00:00 [INF] Applying migration '20220129041855_prueba-04-18'.
2022-01-29 04:19:21.366 +00:00 [INF] Executed DbCommand (748ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Sales` MODIFY COLUMN `Amount` decimal(10,2) NOT NULL;
2022-01-29 04:19:22.619 +00:00 [INF] Executed DbCommand (1,253ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Refills` MODIFY COLUMN `CostPerUnit` decimal(10,2) NOT NULL;
2022-01-29 04:19:23.584 +00:00 [INF] Executed DbCommand (964ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Products` MODIFY COLUMN `Amount` decimal(10,2) NOT NULL;
2022-01-29 04:19:23.631 +00:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20220129041855_prueba-04-18', '6.0.1');
2022-01-29 04:27:54.611 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 04:28:19.433 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 04:28:19.755 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='gymmanager' AND TABLE_NAME='__EFMigrationsHistory';
2022-01-29 04:28:19.776 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='gymmanager' AND TABLE_NAME='__EFMigrationsHistory';
2022-01-29 04:28:19.835 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2022-01-29 04:28:19.877 +00:00 [INF] Applying migration '20220129042755_prueba-04-27'.
2022-01-29 04:28:20.274 +00:00 [INF] Executed DbCommand (262ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `SaleRows` DROP FOREIGN KEY `FK_SaleRows_Sales_saleId`;
2022-01-29 04:28:20.424 +00:00 [INF] Executed DbCommand (149ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `SaleRows` RENAME COLUMN `saleId` TO `SaleId`;
2022-01-29 04:28:20.533 +00:00 [INF] Executed DbCommand (108ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `SaleRows` RENAME INDEX `IX_SaleRows_saleId` TO `IX_SaleRows_SaleId`;
2022-01-29 04:28:21.402 +00:00 [INF] Executed DbCommand (869ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `SaleRows` ADD CONSTRAINT `FK_SaleRows_Sales_SaleId` FOREIGN KEY (`SaleId`) REFERENCES `Sales` (`Id`) ON DELETE CASCADE;
2022-01-29 04:28:21.442 +00:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20220129042755_prueba-04-27', '6.0.1');
2022-01-29 16:40:13.797 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 16:40:44.996 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 16:40:45.257 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='gymmanager' AND TABLE_NAME='__EFMigrationsHistory';
2022-01-29 16:40:45.283 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='gymmanager' AND TABLE_NAME='__EFMigrationsHistory';
2022-01-29 16:40:45.359 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2022-01-29 16:40:45.416 +00:00 [INF] Applying migration '20220129164014_prueba-16-39'.
2022-01-29 16:40:45.715 +00:00 [INF] Executed DbCommand (113ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `ProductPrices` DROP FOREIGN KEY `FK_ProductPrices_Products_ProductId`;
2022-01-29 16:40:46.797 +00:00 [INF] Executed DbCommand (1,082ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `ProductPrices` MODIFY COLUMN `ProductId` int NULL;
2022-01-29 16:40:47.103 +00:00 [INF] Executed DbCommand (306ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `ProductPrices` ADD `RefilledId` int NOT NULL DEFAULT 0;
2022-01-29 16:40:47.319 +00:00 [INF] Executed DbCommand (216ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_ProductPrices_RefilledId` ON `ProductPrices` (`RefilledId`);
2022-01-29 16:40:48.264 +00:00 [INF] Executed DbCommand (944ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `ProductPrices` ADD CONSTRAINT `FK_ProductPrices_Products_ProductId` FOREIGN KEY (`ProductId`) REFERENCES `Products` (`Id`);
2022-01-29 16:40:49.289 +00:00 [INF] Executed DbCommand (1,025ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `ProductPrices` ADD CONSTRAINT `FK_ProductPrices_Refills_RefilledId` FOREIGN KEY (`RefilledId`) REFERENCES `Refills` (`Id`) ON DELETE CASCADE;
2022-01-29 16:40:49.319 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20220129164014_prueba-16-39', '6.0.1');
2022-01-29 16:49:07.591 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 16:49:08.529 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='gymmanager' AND TABLE_NAME='__EFMigrationsHistory';
2022-01-29 16:49:08.571 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2022-01-29 16:50:41.755 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 16:50:42.149 +00:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='gymmanager' AND TABLE_NAME='__EFMigrationsHistory';
2022-01-29 16:50:42.221 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2022-01-29 16:52:23.172 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 16:54:38.254 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 16:59:54.219 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 16:59:54.641 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='gymmanager' AND TABLE_NAME='__EFMigrationsHistory';
2022-01-29 16:59:54.666 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='gymmanager' AND TABLE_NAME='__EFMigrationsHistory';
2022-01-29 16:59:54.727 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2022-01-29 16:59:54.794 +00:00 [INF] Reverting migration '20220129164014_prueba-16-39'.
2022-01-29 16:59:55.120 +00:00 [INF] Executed DbCommand (162ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `ProductPrices` DROP FOREIGN KEY `FK_ProductPrices_Products_ProductId`;
2022-01-29 16:59:55.444 +00:00 [INF] Executed DbCommand (323ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `ProductPrices` DROP FOREIGN KEY `FK_ProductPrices_Refills_RefilledId`;
2022-01-29 16:59:55.636 +00:00 [INF] Executed DbCommand (191ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `ProductPrices` DROP INDEX `IX_ProductPrices_RefilledId`;
2022-01-29 16:59:56.407 +00:00 [INF] Executed DbCommand (771ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `ProductPrices` DROP COLUMN `RefilledId`;
2022-01-29 16:59:57.065 +00:00 [INF] Executed DbCommand (658ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `ProductPrices` MODIFY COLUMN `ProductId` int NOT NULL DEFAULT 0;
2022-01-29 16:59:57.961 +00:00 [INF] Executed DbCommand (895ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `ProductPrices` ADD CONSTRAINT `FK_ProductPrices_Products_ProductId` FOREIGN KEY (`ProductId`) REFERENCES `Products` (`Id`) ON DELETE CASCADE;
2022-01-29 16:59:58.036 +00:00 [INF] Executed DbCommand (74ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM `__EFMigrationsHistory`
WHERE `MigrationId` = '20220129164014_prueba-16-39';
2022-01-29 17:02:23.460 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 17:02:24.361 +00:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='gymmanager' AND TABLE_NAME='__EFMigrationsHistory';
2022-01-29 17:02:24.402 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2022-01-29 18:18:11.300 +00:00 [WRN] Storing keys in a directory '/home/lugo/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
2022-01-29 18:18:11.415 +00:00 [INF] User profile is available. Using '/home/lugo/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-01-29 18:18:12.813 +00:00 [INF] Now listening on: https://localhost:7097
2022-01-29 18:18:12.814 +00:00 [INF] Now listening on: http://localhost:5097
2022-01-29 18:18:12.818 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-01-29 18:18:12.818 +00:00 [INF] Hosting environment: Development
2022-01-29 18:18:12.821 +00:00 [INF] Content root path: /workspace/GymManager.Web/GymManager.Web/
2022-01-29 18:19:34.484 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/ - -
2022-01-29 18:19:34.626 +00:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-01-29 18:19:34.645 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2022-01-29 18:19:34.654 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/ - - - 302 0 - 174.6937ms
2022-01-29 18:19:34.716 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/Account/LogIn?ReturnUrl=%2F - -
2022-01-29 18:19:34.740 +00:00 [INF] Executing endpoint 'GymManager.Web.Controllers.AccountController.Login (GymManager.Web)'
2022-01-29 18:19:34.830 +00:00 [INF] Route matched with {action = "Login", controller = "Account", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller GymManager.Web.Controllers.AccountController (GymManager.Web).
2022-01-29 18:19:38.254 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 18:19:39.097 +00:00 [INF] Executed DbCommand (121ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`)
2022-01-29 18:19:50.433 +00:00 [INF] Executing ViewResult, running view Login.
2022-01-29 18:19:51.487 +00:00 [INF] Executed ViewResult - view Login executed in 12306.2552ms.
2022-01-29 18:19:51.488 +00:00 [INF] Executed action GymManager.Web.Controllers.AccountController.Login (GymManager.Web) in 16655.7417ms
2022-01-29 18:19:51.489 +00:00 [INF] Executed endpoint 'GymManager.Web.Controllers.AccountController.Login (GymManager.Web)'
2022-01-29 18:19:51.505 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/Account/LogIn?ReturnUrl=%2F - - - 200 - text/html;+charset=utf-8 16789.1835ms
2022-01-29 18:19:54.360 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/bootstrap/css/bootstrap.min.css - -
2022-01-29 18:19:54.383 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/bootstrap/js/bootstrap.bundle.min.js - -
2022-01-29 18:19:54.383 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/css/custom.css - -
2022-01-29 18:19:54.402 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/lib/jqueryui/jquery-ui.min.js - -
2022-01-29 18:19:54.403 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/js/moment.js - -
2022-01-29 18:19:54.404 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/Views/Attendance/Create.js - -
2022-01-29 18:19:54.449 +00:00 [INF] Sending file. Request path: '/Views/Attendance/Create.js'. Physical path: '/workspace/GymManager.Web/GymManager.Web/wwwroot/Views/Attendance/Create.js'
2022-01-29 18:19:54.452 +00:00 [INF] Sending file. Request path: '/css/custom.css'. Physical path: '/workspace/GymManager.Web/GymManager.Web/wwwroot/css/custom.css'
2022-01-29 18:19:54.452 +00:00 [INF] Sending file. Request path: '/bootstrap/js/bootstrap.bundle.min.js'. Physical path: '/workspace/GymManager.Web/GymManager.Web/wwwroot/bootstrap/js/bootstrap.bundle.min.js'
2022-01-29 18:19:54.462 +00:00 [INF] Sending file. Request path: '/lib/jqueryui/jquery-ui.min.js'. Physical path: '/workspace/GymManager.Web/GymManager.Web/wwwroot/lib/jqueryui/jquery-ui.min.js'
2022-01-29 18:19:54.463 +00:00 [INF] Sending file. Request path: '/js/moment.js'. Physical path: '/workspace/GymManager.Web/GymManager.Web/wwwroot/js/moment.js'
2022-01-29 18:19:54.465 +00:00 [INF] Sending file. Request path: '/bootstrap/css/bootstrap.min.css'. Physical path: '/workspace/GymManager.Web/GymManager.Web/wwwroot/bootstrap/css/bootstrap.min.css'
2022-01-29 18:19:54.466 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/lib/jqueryui/jquery-ui.min.js - - - 200 254916 application/javascript 64.9805ms
2022-01-29 18:19:54.467 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/Views/Attendance/Create.js - - - 200 115 application/javascript 62.8513ms
2022-01-29 18:19:54.470 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/js/moment.js - - - 200 179764 application/javascript 68.0972ms
2022-01-29 18:19:54.470 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/css/custom.css - - - 200 110 text/css 87.3647ms
2022-01-29 18:19:54.471 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/bootstrap/js/bootstrap.bundle.min.js - - - 200 78743 application/javascript 87.6357ms
2022-01-29 18:19:54.475 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/bootstrap/css/bootstrap.min.css - - - 200 155845 text/css 114.9581ms
2022-01-29 18:19:55.495 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/favicon.ico - -
2022-01-29 18:19:55.496 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/favicon.ico - - - 404 0 - 0.8616ms
2022-01-29 18:20:17.482 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5097/Account/Login application/x-www-form-urlencoded 253
2022-01-29 18:20:17.482 +00:00 [INF] Executing endpoint 'GymManager.Web.Controllers.AccountController.Login (GymManager.Web)'
2022-01-29 18:20:17.543 +00:00 [INF] Route matched with {action = "Login", controller = "Account", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(GymManager.Web.Models.LoginModel) on controller GymManager.Web.Controllers.AccountController (GymManager.Web).
2022-01-29 18:20:17.701 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 18:20:17.711 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`)
2022-01-29 18:20:18.309 +00:00 [INF] Executed DbCommand (161ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1
2022-01-29 18:20:18.596 +00:00 [WRN] Invalid password for user.
2022-01-29 18:20:18.599 +00:00 [WRN] User failed to provide the correct password.
2022-01-29 18:20:18.609 +00:00 [INF] Executing ViewResult, running view Login.
2022-01-29 18:20:18.628 +00:00 [INF] Executed ViewResult - view Login executed in 19.3795ms.
2022-01-29 18:20:18.632 +00:00 [INF] Executed action GymManager.Web.Controllers.AccountController.Login (GymManager.Web) in 1089.0537ms
2022-01-29 18:20:18.635 +00:00 [INF] Executed endpoint 'GymManager.Web.Controllers.AccountController.Login (GymManager.Web)'
2022-01-29 18:20:18.636 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5097/Account/Login application/x-www-form-urlencoded 253 - 200 - text/html;+charset=utf-8 1154.0338ms
2022-01-29 18:20:45.072 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5097/Account/Login application/x-www-form-urlencoded 252
2022-01-29 18:20:45.074 +00:00 [INF] Executing endpoint 'GymManager.Web.Controllers.AccountController.Login (GymManager.Web)'
2022-01-29 18:20:45.074 +00:00 [INF] Route matched with {action = "Login", controller = "Account", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(GymManager.Web.Models.LoginModel) on controller GymManager.Web.Controllers.AccountController (GymManager.Web).
2022-01-29 18:20:45.151 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 18:20:45.160 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`)
2022-01-29 18:20:45.184 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1
2022-01-29 18:20:45.449 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2022-01-29 18:20:45.488 +00:00 [INF] AuthenticationScheme: Identity.Application signed in.
2022-01-29 18:20:45.494 +00:00 [INF] Executing LocalRedirectResult, redirecting to /.
2022-01-29 18:20:45.495 +00:00 [INF] Executed action GymManager.Web.Controllers.AccountController.Login (GymManager.Web) in 420.6348ms
2022-01-29 18:20:45.495 +00:00 [INF] Executed endpoint 'GymManager.Web.Controllers.AccountController.Login (GymManager.Web)'
2022-01-29 18:20:45.496 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5097/Account/Login application/x-www-form-urlencoded 252 - 302 0 - 423.7991ms
2022-01-29 18:20:45.517 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/ - -
2022-01-29 18:20:45.532 +00:00 [INF] Executing endpoint 'GymManager.Web.Controllers.AttendanceController.Index (GymManager.Web)'
2022-01-29 18:20:45.545 +00:00 [INF] Route matched with {action = "Index", controller = "Attendance", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller GymManager.Web.Controllers.AttendanceController (GymManager.Web).
2022-01-29 18:20:45.555 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 18:20:45.570 +00:00 [INF] Executed action GymManager.Web.Controllers.AttendanceController.Index (GymManager.Web) in 23.4392ms
2022-01-29 18:20:45.570 +00:00 [INF] Executed endpoint 'GymManager.Web.Controllers.AttendanceController.Index (GymManager.Web)'
2022-01-29 18:20:45.580 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Cannot create a DbSet for 'GymManager.Core.Members.Member' because this type is not included in the model for the context. However the model contains an entity type with the same name in a different namespace: 'GymManager.Core.Entities.Member'.
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Collections.Generic.IAsyncEnumerable<TEntity>.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at GymManager.ApplicationServices.Members.MembersAppService.GetMembersAsync() in /workspace/GymManager.Web/GymManager.ApplicationServices/Members/MembersAppService.cs:line 27
   at GymManager.Web.Controllers.AttendanceController.Index() in /workspace/GymManager.Web/GymManager.Web/Controllers/AttendanceController.cs:line 24
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-29 18:20:45.725 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/ - - - 500 - text/html;+charset=utf-8 208.1820ms
2022-01-29 18:25:30.755 +00:00 [INF] Application is shutting down...
2022-01-29 18:32:24.456 +00:00 [WRN] Storing keys in a directory '/home/lugo/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
2022-01-29 18:32:24.598 +00:00 [INF] User profile is available. Using '/home/lugo/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-01-29 18:32:25.878 +00:00 [INF] Now listening on: https://localhost:7097
2022-01-29 18:32:25.879 +00:00 [INF] Now listening on: http://localhost:5097
2022-01-29 18:32:25.880 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-01-29 18:32:25.880 +00:00 [INF] Hosting environment: Development
2022-01-29 18:32:25.880 +00:00 [INF] Content root path: /workspace/GymManager.Web/GymManager.Web/
2022-01-29 18:32:35.476 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/ - -
2022-01-29 18:32:36.422 +00:00 [INF] Executing endpoint 'GymManager.Web.Controllers.AttendanceController.Index (GymManager.Web)'
2022-01-29 18:32:36.463 +00:00 [INF] Route matched with {action = "Index", controller = "Attendance", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller GymManager.Web.Controllers.AttendanceController (GymManager.Web).
2022-01-29 18:32:38.611 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 18:32:39.635 +00:00 [INF] Executed DbCommand (166ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `m`.`Id`, `m`.`AllowNewsLetter`, `m`.`BirthDay`, `m`.`CityId`, `m`.`Email`, `m`.`LastName`, `m`.`Name`, `m`.`RegisteredDate`
FROM `Members` AS `m`
2022-01-29 18:32:39.704 +00:00 [WRN] Se ha entrado al index
2022-01-29 18:32:50.167 +00:00 [INF] Executing ViewResult, running view Index.
2022-01-29 18:32:51.535 +00:00 [INF] Executed action GymManager.Web.Controllers.AttendanceController.Index (GymManager.Web) in 15059.9109ms
2022-01-29 18:32:51.537 +00:00 [INF] Executed endpoint 'GymManager.Web.Controllers.AttendanceController.Index (GymManager.Web)'
2022-01-29 18:32:51.548 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The model item passed into the ViewDataDictionary is of type 'System.Collections.Generic.List`1[GymManager.Core.Entities.Member]', but this ViewDataDictionary instance requires a model item of type 'System.Collections.Generic.List`1[GymManager.Core.Members.Member]'.
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary.EnsureCompatible(Object value)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary..ctor(ViewDataDictionary source, Object model, Type declaredModelType)
   at lambda_method36(Closure , ViewDataDictionary )
   at Microsoft.AspNetCore.Mvc.Razor.RazorPagePropertyActivator.CreateViewDataDictionary(ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorPagePropertyActivator.Activate(Object page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorPageActivator.Activate(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.RenderPartialCoreAsync(String partialViewName, Object model, ViewDataDictionary viewData, TextWriter writer)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.PartialAsync(String partialViewName, Object model, ViewDataDictionary viewData)
   at AspNetCore._Views_Attendance_Index.ExecuteAsync() in /workspace/GymManager.Web/GymManager.Web/Views/Attendance/Index.cshtml:line 25
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-29 18:32:51.674 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/ - - - 500 - text/html;+charset=utf-8 16206.6667ms
2022-01-29 18:34:55.603 +00:00 [INF] Application is shutting down...
2022-01-29 18:47:57.485 +00:00 [WRN] Storing keys in a directory '/home/lugo/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
2022-01-29 18:47:57.562 +00:00 [INF] User profile is available. Using '/home/lugo/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-01-29 18:47:58.266 +00:00 [INF] Now listening on: https://localhost:7097
2022-01-29 18:47:58.266 +00:00 [INF] Now listening on: http://localhost:5097
2022-01-29 18:47:58.267 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-01-29 18:47:58.268 +00:00 [INF] Hosting environment: Development
2022-01-29 18:47:58.268 +00:00 [INF] Content root path: /workspace/GymManager.Web/GymManager.Web/
2022-01-29 18:48:13.396 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/ - -
2022-01-29 18:48:14.259 +00:00 [INF] Executing endpoint 'GymManager.Web.Controllers.AttendanceController.Index (GymManager.Web)'
2022-01-29 18:48:14.307 +00:00 [INF] Route matched with {action = "Index", controller = "Attendance", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller GymManager.Web.Controllers.AttendanceController (GymManager.Web).
2022-01-29 18:48:16.563 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 18:48:17.341 +00:00 [INF] Executed DbCommand (114ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `m`.`Id`, `m`.`AllowNewsLetter`, `m`.`BirthDay`, `m`.`CityId`, `m`.`Email`, `m`.`LastName`, `m`.`Name`, `m`.`RegisteredDate`
FROM `Members` AS `m`
2022-01-29 18:48:17.407 +00:00 [WRN] Se ha entrado al index
2022-01-29 18:48:28.184 +00:00 [INF] Executing ViewResult, running view Index.
2022-01-29 18:48:31.997 +00:00 [INF] Executed ViewResult - view Index executed in 14565.8991ms.
2022-01-29 18:48:31.999 +00:00 [INF] Executed action GymManager.Web.Controllers.AttendanceController.Index (GymManager.Web) in 17690.6382ms
2022-01-29 18:48:31.999 +00:00 [INF] Executed endpoint 'GymManager.Web.Controllers.AttendanceController.Index (GymManager.Web)'
2022-01-29 18:48:32.026 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/ - - - 200 - text/html;+charset=utf-8 18638.7703ms
2022-01-29 18:48:34.103 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/js/moment.js - -
2022-01-29 18:48:34.103 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/bootstrap/js/bootstrap.bundle.min.js - -
2022-01-29 18:48:34.124 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/img/icon.png - -
2022-01-29 18:48:34.236 +00:00 [INF] Sending file. Request path: '/img/icon.png'. Physical path: '/workspace/GymManager.Web/GymManager.Web/wwwroot/img/icon.png'
2022-01-29 18:48:34.236 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/img/icon.png - - - 200 852 image/png 112.3606ms
2022-01-29 18:48:34.239 +00:00 [INF] Sending file. Request path: '/bootstrap/js/bootstrap.bundle.min.js'. Physical path: '/workspace/GymManager.Web/GymManager.Web/wwwroot/bootstrap/js/bootstrap.bundle.min.js'
2022-01-29 18:48:34.239 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/bootstrap/js/bootstrap.bundle.min.js - - - 0 78743 application/javascript 209.4625ms
2022-01-29 18:48:34.245 +00:00 [INF] Sending file. Request path: '/js/moment.js'. Physical path: '/workspace/GymManager.Web/GymManager.Web/wwwroot/js/moment.js'
2022-01-29 18:48:34.246 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/js/moment.js - - - 0 179764 application/javascript 142.6965ms
2022-01-29 18:49:08.457 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/Members/ - -
2022-01-29 18:49:08.517 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/Members/ - - - 404 0 - 60.1029ms
2022-01-29 18:49:12.985 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/ - -
2022-01-29 18:49:12.994 +00:00 [INF] Executing endpoint 'GymManager.Web.Controllers.AttendanceController.Index (GymManager.Web)'
2022-01-29 18:49:12.995 +00:00 [INF] Route matched with {action = "Index", controller = "Attendance", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller GymManager.Web.Controllers.AttendanceController (GymManager.Web).
2022-01-29 18:49:13.189 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 18:49:13.244 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `m`.`Id`, `m`.`AllowNewsLetter`, `m`.`BirthDay`, `m`.`CityId`, `m`.`Email`, `m`.`LastName`, `m`.`Name`, `m`.`RegisteredDate`
FROM `Members` AS `m`
2022-01-29 18:49:13.264 +00:00 [WRN] Se ha entrado al index
2022-01-29 18:49:13.275 +00:00 [INF] Executing ViewResult, running view Index.
2022-01-29 18:49:13.289 +00:00 [INF] Executed ViewResult - view Index executed in 15.477ms.
2022-01-29 18:49:13.290 +00:00 [INF] Executed action GymManager.Web.Controllers.AttendanceController.Index (GymManager.Web) in 294.8951ms
2022-01-29 18:49:13.290 +00:00 [INF] Executed endpoint 'GymManager.Web.Controllers.AttendanceController.Index (GymManager.Web)'
2022-01-29 18:49:13.290 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/ - - - 200 - text/html;+charset=utf-8 305.0149ms
2022-01-29 18:49:23.933 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/attendance - -
2022-01-29 18:49:23.951 +00:00 [INF] Executing endpoint 'GymManager.Web.Controllers.AttendanceController.Index (GymManager.Web)'
2022-01-29 18:49:23.952 +00:00 [INF] Route matched with {action = "Index", controller = "Attendance", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller GymManager.Web.Controllers.AttendanceController (GymManager.Web).
2022-01-29 18:49:23.983 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 18:49:24.027 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `m`.`Id`, `m`.`AllowNewsLetter`, `m`.`BirthDay`, `m`.`CityId`, `m`.`Email`, `m`.`LastName`, `m`.`Name`, `m`.`RegisteredDate`
FROM `Members` AS `m`
2022-01-29 18:49:24.028 +00:00 [WRN] Se ha entrado al index
2022-01-29 18:49:24.033 +00:00 [INF] Executing ViewResult, running view Index.
2022-01-29 18:49:24.047 +00:00 [INF] Executed ViewResult - view Index executed in 14.321ms.
2022-01-29 18:49:24.050 +00:00 [INF] Executed action GymManager.Web.Controllers.AttendanceController.Index (GymManager.Web) in 97.9821ms
2022-01-29 18:49:24.053 +00:00 [INF] Executed endpoint 'GymManager.Web.Controllers.AttendanceController.Index (GymManager.Web)'
2022-01-29 18:49:24.063 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/attendance - - - 200 - text/html;+charset=utf-8 130.0449ms
2022-01-29 18:49:29.677 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/Attendance/Create - -
2022-01-29 18:49:29.682 +00:00 [INF] Executing endpoint 'GymManager.Web.Controllers.AttendanceController.Create (GymManager.Web)'
2022-01-29 18:49:29.685 +00:00 [INF] Route matched with {action = "Create", controller = "Attendance", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Create() on controller GymManager.Web.Controllers.AttendanceController (GymManager.Web).
2022-01-29 18:49:30.596 +00:00 [INF] Executing ViewResult, running view Create.
2022-01-29 18:49:30.777 +00:00 [INF] Executed ViewResult - view Create executed in 1090.7576ms.
2022-01-29 18:49:30.777 +00:00 [INF] Executed action GymManager.Web.Controllers.AttendanceController.Create (GymManager.Web) in 1091.5872ms
2022-01-29 18:49:30.777 +00:00 [INF] Executed endpoint 'GymManager.Web.Controllers.AttendanceController.Create (GymManager.Web)'
2022-01-29 18:49:30.778 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/Attendance/Create - - - 200 - text/html;+charset=utf-8 1100.9269ms
2022-01-29 18:49:31.314 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/lib/jqueryui/jquery-ui.min.css - -
2022-01-29 18:49:31.330 +00:00 [INF] Sending file. Request path: '/lib/jqueryui/jquery-ui.min.css'. Physical path: '/workspace/GymManager.Web/GymManager.Web/wwwroot/lib/jqueryui/jquery-ui.min.css'
2022-01-29 18:49:31.330 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/lib/jqueryui/jquery-ui.min.css - - - 200 30801 text/css 16.7599ms
2022-01-29 18:49:31.344 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/lib/jqueryui/jquery-ui.structure.min.css - -
2022-01-29 18:49:31.353 +00:00 [INF] Sending file. Request path: '/lib/jqueryui/jquery-ui.structure.min.css'. Physical path: '/workspace/GymManager.Web/GymManager.Web/wwwroot/lib/jqueryui/jquery-ui.structure.min.css'
2022-01-29 18:49:31.354 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/lib/jqueryui/jquery-ui.structure.min.css - - - 200 15560 text/css 9.1863ms
2022-01-29 18:49:31.356 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/lib/jqueryui/jquery-ui.theme.min.css - -
2022-01-29 18:49:31.368 +00:00 [INF] Sending file. Request path: '/lib/jqueryui/jquery-ui.theme.min.css'. Physical path: '/workspace/GymManager.Web/GymManager.Web/wwwroot/lib/jqueryui/jquery-ui.theme.min.css'
2022-01-29 18:49:31.368 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/lib/jqueryui/jquery-ui.theme.min.css - - - 200 13889 text/css 11.9492ms
2022-01-29 18:49:31.425 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/lib/jqueryui/jquery-ui.min.js - -
2022-01-29 18:49:31.431 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/Views/Attendance/Create.js - -
2022-01-29 18:49:31.471 +00:00 [INF] Sending file. Request path: '/Views/Attendance/Create.js'. Physical path: '/workspace/GymManager.Web/GymManager.Web/wwwroot/Views/Attendance/Create.js'
2022-01-29 18:49:31.471 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/Views/Attendance/Create.js - - - 0 115 application/javascript 40.7691ms
2022-01-29 18:49:31.503 +00:00 [INF] Sending file. Request path: '/lib/jqueryui/jquery-ui.min.js'. Physical path: '/workspace/GymManager.Web/GymManager.Web/wwwroot/lib/jqueryui/jquery-ui.min.js'
2022-01-29 18:49:31.504 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/lib/jqueryui/jquery-ui.min.js - - - 200 254916 application/javascript 78.6554ms
2022-01-29 18:49:39.770 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/lib/jqueryui/images/ui-icons_444444_256x240.png - -
2022-01-29 18:49:39.774 +00:00 [INF] Sending file. Request path: '/lib/jqueryui/images/ui-icons_444444_256x240.png'. Physical path: '/workspace/GymManager.Web/GymManager.Web/wwwroot/lib/jqueryui/images/ui-icons_444444_256x240.png'
2022-01-29 18:49:39.775 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/lib/jqueryui/images/ui-icons_444444_256x240.png - - - 200 7090 image/png 4.7162ms
2022-01-29 18:49:41.527 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/lib/jqueryui/images/ui-icons_555555_256x240.png - -
2022-01-29 18:49:41.530 +00:00 [INF] Sending file. Request path: '/lib/jqueryui/images/ui-icons_555555_256x240.png'. Physical path: '/workspace/GymManager.Web/GymManager.Web/wwwroot/lib/jqueryui/images/ui-icons_555555_256x240.png'
2022-01-29 18:49:41.530 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/lib/jqueryui/images/ui-icons_555555_256x240.png - - - 200 7074 image/png 3.1109ms
2022-01-29 18:50:00.192 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5097/Attendance/Create application/x-www-form-urlencoded 356
2022-01-29 18:50:00.202 +00:00 [INF] Executing endpoint 'GymManager.Web.Controllers.AttendanceController.Create (GymManager.Web)'
2022-01-29 18:50:00.286 +00:00 [INF] Route matched with {action = "Create", controller = "Attendance", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(GymManager.Core.Entities.Member) on controller GymManager.Web.Controllers.AttendanceController (GymManager.Web).
2022-01-29 18:50:00.405 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 18:50:01.502 +00:00 [ERR] Failed executing DbCommand (459ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (DbType = Date), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 20), @p5='?' (Size = 15), @p6='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Members` (`AllowNewsLetter`, `BirthDay`, `CityId`, `Email`, `LastName`, `Name`, `RegisteredDate`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Members`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2022-01-29 18:50:01.618 +00:00 [ERR] An exception occurred in the database while saving changes for context type 'GymManager.DataAccess.GymManagerContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`gymmanager`.`Members`, CONSTRAINT `FK_Members_Cities_CityId` FOREIGN KEY (`CityId`) REFERENCES `Cities` (`Id`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 954
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 44
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 127
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 456
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 330
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 323
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`gymmanager`.`Members`, CONSTRAINT `FK_Members_Cities_CityId` FOREIGN KEY (`CityId`) REFERENCES `Cities` (`Id`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 954
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 44
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 127
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 456
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 330
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 323
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-01-29 18:50:01.624 +00:00 [INF] Executed action GymManager.Web.Controllers.AttendanceController.Create (GymManager.Web) in 1337.7971ms
2022-01-29 18:50:01.624 +00:00 [INF] Executed endpoint 'GymManager.Web.Controllers.AttendanceController.Create (GymManager.Web)'
2022-01-29 18:50:01.631 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: entity could not be saved: An error occurred while saving the entity changes. See the inner exception for details.
   at GymManager.DataAccess.Repositories.Repository`2.AddAsync(TEntity entity) in /workspace/GymManager.Web/GymManager.DataAccess/Repositories/Repository.cs:line 44
   at GymManager.ApplicationServices.Members.MembersAppService.AddMemberAsync(Member member) in /workspace/GymManager.Web/GymManager.ApplicationServices/Members/MembersAppService.cs:line 22
   at GymManager.Web.Controllers.AttendanceController.Create(Member member) in /workspace/GymManager.Web/GymManager.Web/Controllers/AttendanceController.cs:line 51
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-29 18:50:01.683 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5097/Attendance/Create application/x-www-form-urlencoded 356 - 500 - text/html;+charset=utf-8 1490.8224ms
2022-01-29 19:09:11.724 +00:00 [INF] Application is shutting down...
2022-01-29 19:12:25.052 +00:00 [WRN] Storing keys in a directory '/home/lugo/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
2022-01-29 19:12:25.197 +00:00 [INF] User profile is available. Using '/home/lugo/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-01-29 19:12:26.569 +00:00 [INF] Now listening on: https://localhost:7097
2022-01-29 19:12:26.572 +00:00 [INF] Now listening on: http://localhost:5097
2022-01-29 19:12:26.573 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-01-29 19:12:26.573 +00:00 [INF] Hosting environment: Development
2022-01-29 19:12:26.573 +00:00 [INF] Content root path: /workspace/GymManager.Web/GymManager.Web/
2022-01-29 19:25:19.809 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/Attendance/Create - -
2022-01-29 19:25:22.879 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 19:25:24.062 +00:00 [INF] Executed DbCommand (158ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2022-01-29 19:25:24.476 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2022-01-29 19:25:24.521 +00:00 [INF] Executing endpoint 'GymManager.Web.Controllers.AttendanceController.Create (GymManager.Web)'
2022-01-29 19:25:24.547 +00:00 [INF] Route matched with {action = "Create", controller = "Attendance", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Create() on controller GymManager.Web.Controllers.AttendanceController (GymManager.Web).
2022-01-29 19:25:34.935 +00:00 [INF] Executing ViewResult, running view Create.
2022-01-29 19:25:37.413 +00:00 [INF] Executed ViewResult - view Create executed in 12836.0774ms.
2022-01-29 19:25:37.415 +00:00 [INF] Executed action GymManager.Web.Controllers.AttendanceController.Create (GymManager.Web) in 12865.9609ms
2022-01-29 19:25:37.415 +00:00 [INF] Executed endpoint 'GymManager.Web.Controllers.AttendanceController.Create (GymManager.Web)'
2022-01-29 19:25:37.439 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/Attendance/Create - - - 200 - text/html;+charset=utf-8 17634.9194ms
2022-01-29 19:25:39.051 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/img/icon.png - -
2022-01-29 19:25:39.091 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/lib/jqueryui/jquery-ui.min.js - -
2022-01-29 19:25:39.138 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/Views/Attendance/Create.js - -
2022-01-29 19:25:39.184 +00:00 [INF] Sending file. Request path: '/img/icon.png'. Physical path: '/workspace/GymManager.Web/GymManager.Web/wwwroot/img/icon.png'
2022-01-29 19:25:39.188 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/img/icon.png - - - 200 852 image/png 136.8476ms
2022-01-29 19:25:39.190 +00:00 [INF] Sending file. Request path: '/lib/jqueryui/jquery-ui.min.js'. Physical path: '/workspace/GymManager.Web/GymManager.Web/wwwroot/lib/jqueryui/jquery-ui.min.js'
2022-01-29 19:25:39.191 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/lib/jqueryui/jquery-ui.min.js - - - 0 254916 application/javascript 99.7481ms
2022-01-29 19:25:39.208 +00:00 [INF] Sending file. Request path: '/Views/Attendance/Create.js'. Physical path: '/workspace/GymManager.Web/GymManager.Web/wwwroot/Views/Attendance/Create.js'
2022-01-29 19:25:39.208 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/Views/Attendance/Create.js - - - 0 115 application/javascript 70.1598ms
2022-01-29 19:25:39.813 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/favicon.ico - -
2022-01-29 19:25:39.821 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/favicon.ico - - - 404 0 - 7.2026ms
2022-01-29 19:26:52.432 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5097/Attendance/Create application/x-www-form-urlencoded 353
2022-01-29 19:26:52.452 +00:00 [INF] Executing endpoint 'GymManager.Web.Controllers.AttendanceController.Create (GymManager.Web)'
2022-01-29 19:26:52.515 +00:00 [INF] Route matched with {action = "Create", controller = "Attendance", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(GymManager.Core.Entities.Member) on controller GymManager.Web.Controllers.AttendanceController (GymManager.Web).
2022-01-29 19:26:52.887 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 19:26:53.481 +00:00 [ERR] Failed executing DbCommand (14ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (DbType = Date), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 20), @p5='?' (Size = 15), @p6='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Members` (`AllowNewsLetter`, `BirthDay`, `CityId`, `Email`, `LastName`, `Name`, `RegisteredDate`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Members`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2022-01-29 19:26:53.596 +00:00 [ERR] An exception occurred in the database while saving changes for context type 'GymManager.DataAccess.GymManagerContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`gymmanager`.`Members`, CONSTRAINT `FK_Members_Cities_CityId` FOREIGN KEY (`CityId`) REFERENCES `Cities` (`Id`) ON DELETE CASCADE)
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 44
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 127
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 456
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 330
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 323
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`gymmanager`.`Members`, CONSTRAINT `FK_Members_Cities_CityId` FOREIGN KEY (`CityId`) REFERENCES `Cities` (`Id`) ON DELETE CASCADE)
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 44
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 127
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 456
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 330
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 323
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-01-29 19:26:53.616 +00:00 [INF] Executed action GymManager.Web.Controllers.AttendanceController.Create (GymManager.Web) in 1101.1098ms
2022-01-29 19:26:53.618 +00:00 [INF] Executed endpoint 'GymManager.Web.Controllers.AttendanceController.Create (GymManager.Web)'
2022-01-29 19:26:53.626 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: entity could not be saved: An error occurred while saving the entity changes. See the inner exception for details.
   at GymManager.DataAccess.Repositories.Repository`2.AddAsync(TEntity entity) in /workspace/GymManager.Web/GymManager.DataAccess/Repositories/Repository.cs:line 44
   at GymManager.ApplicationServices.Members.MembersAppService.AddMemberAsync(Member member) in /workspace/GymManager.Web/GymManager.ApplicationServices/Members/MembersAppService.cs:line 22
   at GymManager.Web.Controllers.AttendanceController.Create(Member member) in /workspace/GymManager.Web/GymManager.Web/Controllers/AttendanceController.cs:line 52
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-29 19:26:53.691 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5097/Attendance/Create application/x-www-form-urlencoded 353 - 500 - text/html;+charset=utf-8 1258.9751ms
2022-01-29 19:26:55.559 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/favicon.ico - -
2022-01-29 19:26:55.563 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/favicon.ico - - - 404 0 - 3.7611ms
2022-01-29 19:30:47.095 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/Attendance/Create - -
2022-01-29 19:30:47.101 +00:00 [INF] Executing endpoint 'GymManager.Web.Controllers.AttendanceController.Create (GymManager.Web)'
2022-01-29 19:30:47.101 +00:00 [INF] Route matched with {action = "Create", controller = "Attendance", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Create() on controller GymManager.Web.Controllers.AttendanceController (GymManager.Web).
2022-01-29 19:30:47.108 +00:00 [INF] Executing ViewResult, running view Create.
2022-01-29 19:30:47.131 +00:00 [INF] Executed ViewResult - view Create executed in 24.1031ms.
2022-01-29 19:30:47.131 +00:00 [INF] Executed action GymManager.Web.Controllers.AttendanceController.Create (GymManager.Web) in 29.2967ms
2022-01-29 19:30:47.131 +00:00 [INF] Executed endpoint 'GymManager.Web.Controllers.AttendanceController.Create (GymManager.Web)'
2022-01-29 19:30:47.132 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/Attendance/Create - - - 200 - text/html;+charset=utf-8 36.6030ms
2022-01-29 19:32:34.220 +00:00 [INF] Application is shutting down...
2022-01-29 19:33:23.912 +00:00 [WRN] Storing keys in a directory '/home/lugo/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
2022-01-29 19:33:24.090 +00:00 [INF] User profile is available. Using '/home/lugo/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-01-29 19:33:25.423 +00:00 [INF] Now listening on: https://localhost:7097
2022-01-29 19:33:25.423 +00:00 [INF] Now listening on: http://localhost:5097
2022-01-29 19:33:25.423 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-01-29 19:33:25.424 +00:00 [INF] Hosting environment: Development
2022-01-29 19:33:25.424 +00:00 [INF] Content root path: /workspace/GymManager.Web/GymManager.Web/
2022-01-29 19:36:47.660 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/Attendance/Create - -
2022-01-29 19:36:48.593 +00:00 [INF] Executing endpoint 'GymManager.Web.Controllers.AttendanceController.Create (GymManager.Web)'
2022-01-29 19:36:48.617 +00:00 [INF] Route matched with {action = "Create", controller = "Attendance", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Create() on controller GymManager.Web.Controllers.AttendanceController (GymManager.Web).
2022-01-29 19:36:59.560 +00:00 [INF] Executing ViewResult, running view Create.
2022-01-29 19:37:02.381 +00:00 [INF] Executed ViewResult - view Create executed in 13741.5684ms.
2022-01-29 19:37:02.387 +00:00 [INF] Executed action GymManager.Web.Controllers.AttendanceController.Create (GymManager.Web) in 13768.7438ms
2022-01-29 19:37:02.388 +00:00 [INF] Executed endpoint 'GymManager.Web.Controllers.AttendanceController.Create (GymManager.Web)'
2022-01-29 19:37:02.407 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/Attendance/Create - - - 200 - text/html;+charset=utf-8 14751.5999ms
2022-01-29 19:37:03.841 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/bootstrap/js/bootstrap.bundle.min.js - -
2022-01-29 19:37:03.868 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/js/moment.js - -
2022-01-29 19:37:03.885 +00:00 [INF] The file /bootstrap/js/bootstrap.bundle.min.js was not modified
2022-01-29 19:37:03.886 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/bootstrap/js/bootstrap.bundle.min.js - - - 304 - application/javascript 45.0386ms
2022-01-29 19:37:03.887 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/lib/jqueryui/jquery-ui.min.js - -
2022-01-29 19:37:03.892 +00:00 [INF] The file /js/moment.js was not modified
2022-01-29 19:37:03.893 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/js/moment.js - - - 304 - application/javascript 24.6523ms
2022-01-29 19:37:03.893 +00:00 [INF] The file /lib/jqueryui/jquery-ui.min.js was not modified
2022-01-29 19:37:03.894 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/lib/jqueryui/jquery-ui.min.js - - - 304 - application/javascript 6.6523ms
2022-01-29 19:37:03.899 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/Views/Attendance/Create.js - -
2022-01-29 19:37:03.950 +00:00 [INF] The file /Views/Attendance/Create.js was not modified
2022-01-29 19:37:03.952 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/Views/Attendance/Create.js - - - 304 - application/javascript 58.2330ms
2022-01-29 19:37:04.089 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/img/icon.png - -
2022-01-29 19:37:04.094 +00:00 [INF] The file /img/icon.png was not modified
2022-01-29 19:37:04.097 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/img/icon.png - - - 304 - image/png 5.9463ms
2022-01-29 19:37:23.568 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5097/Attendance/Create application/x-www-form-urlencoded 329
2022-01-29 19:37:23.581 +00:00 [INF] Executing endpoint 'GymManager.Web.Controllers.AttendanceController.Create (GymManager.Web)'
2022-01-29 19:37:23.655 +00:00 [INF] Route matched with {action = "Create", controller = "Attendance", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(GymManager.Core.Entities.Member) on controller GymManager.Web.Controllers.AttendanceController (GymManager.Web).
2022-01-29 19:37:26.418 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 19:37:27.413 +00:00 [ERR] Failed executing DbCommand (133ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 20), @p5='?' (Size = 15), @p6='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Members` (`AllowNewsLetter`, `BirthDay`, `CityId`, `Email`, `LastName`, `Name`, `RegisteredDate`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Members`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2022-01-29 19:37:27.553 +00:00 [ERR] An exception occurred in the database while saving changes for context type 'GymManager.DataAccess.GymManagerContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`gymmanager`.`Members`, CONSTRAINT `FK_Members_Cities_CityId` FOREIGN KEY (`CityId`) REFERENCES `Cities` (`Id`) ON DELETE CASCADE)
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 44
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 127
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 456
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 330
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 323
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`gymmanager`.`Members`, CONSTRAINT `FK_Members_Cities_CityId` FOREIGN KEY (`CityId`) REFERENCES `Cities` (`Id`) ON DELETE CASCADE)
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 44
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 127
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 456
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 330
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 323
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-01-29 19:37:27.572 +00:00 [INF] Executed action GymManager.Web.Controllers.AttendanceController.Create (GymManager.Web) in 3917.251ms
2022-01-29 19:37:27.574 +00:00 [INF] Executed endpoint 'GymManager.Web.Controllers.AttendanceController.Create (GymManager.Web)'
2022-01-29 19:37:27.586 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: entity could not be saved: An error occurred while saving the entity changes. See the inner exception for details.
   at GymManager.DataAccess.Repositories.Repository`2.AddAsync(TEntity entity) in /workspace/GymManager.Web/GymManager.DataAccess/Repositories/Repository.cs:line 45
   at GymManager.ApplicationServices.Members.MembersAppService.AddMemberAsync(Member member) in /workspace/GymManager.Web/GymManager.ApplicationServices/Members/MembersAppService.cs:line 22
   at GymManager.Web.Controllers.AttendanceController.Create(Member member) in /workspace/GymManager.Web/GymManager.Web/Controllers/AttendanceController.cs:line 52
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-29 19:37:27.657 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5097/Attendance/Create application/x-www-form-urlencoded 329 - 500 - text/html;+charset=utf-8 4088.6244ms
2022-01-29 19:44:04.730 +00:00 [INF] Application is shutting down...
2022-01-29 20:31:10.752 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 20:31:39.813 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 20:31:40.191 +00:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='gymmanager' AND TABLE_NAME='__EFMigrationsHistory';
2022-01-29 20:31:40.219 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='gymmanager' AND TABLE_NAME='__EFMigrationsHistory';
2022-01-29 20:31:40.280 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2022-01-29 20:31:40.327 +00:00 [INF] Applying migration '20220129203111_prueba-20-30'.
2022-01-29 20:31:40.582 +00:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `ProductPrices` DROP FOREIGN KEY `FK_ProductPrices_Products_ProductId`;
2022-01-29 20:31:41.362 +00:00 [INF] Executed DbCommand (780ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `ProductPrices` MODIFY COLUMN `ProductId` int NULL;
2022-01-29 20:31:42.027 +00:00 [INF] Executed DbCommand (664ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `ProductPrices` ADD `RefilledId` int NOT NULL DEFAULT 0;
2022-01-29 20:31:43.236 +00:00 [INF] Executed DbCommand (1,209ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Members` MODIFY COLUMN `RegisteredDate` date NOT NULL;
2022-01-29 20:31:44.077 +00:00 [INF] Executed DbCommand (840ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Members` MODIFY COLUMN `BirthDay` date NOT NULL;
2022-01-29 20:31:44.296 +00:00 [INF] Executed DbCommand (219ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_ProductPrices_RefilledId` ON `ProductPrices` (`RefilledId`);
2022-01-29 20:31:45.269 +00:00 [INF] Executed DbCommand (972ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `ProductPrices` ADD CONSTRAINT `FK_ProductPrices_Products_ProductId` FOREIGN KEY (`ProductId`) REFERENCES `Products` (`Id`);
2022-01-29 20:31:46.182 +00:00 [INF] Executed DbCommand (913ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `ProductPrices` ADD CONSTRAINT `FK_ProductPrices_Refills_RefilledId` FOREIGN KEY (`RefilledId`) REFERENCES `Refills` (`Id`) ON DELETE CASCADE;
2022-01-29 20:31:46.239 +00:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20220129203111_prueba-20-30', '6.0.1');
2022-01-29 20:39:17.628 +00:00 [WRN] Storing keys in a directory '/home/lugo/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
2022-01-29 20:39:17.741 +00:00 [INF] User profile is available. Using '/home/lugo/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-01-29 20:39:19.079 +00:00 [INF] Now listening on: https://localhost:7097
2022-01-29 20:39:19.095 +00:00 [INF] Now listening on: http://localhost:5097
2022-01-29 20:39:19.095 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-01-29 20:39:19.095 +00:00 [INF] Hosting environment: Development
2022-01-29 20:39:19.096 +00:00 [INF] Content root path: /workspace/GymManager.Web/GymManager.Web/
2022-01-29 20:40:05.346 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/Attendance/Create - -
2022-01-29 20:40:08.466 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 20:40:09.905 +00:00 [INF] Executed DbCommand (241ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2022-01-29 20:40:10.471 +00:00 [INF] Executed DbCommand (40ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2022-01-29 20:40:10.533 +00:00 [INF] Executing endpoint 'GymManager.Web.Controllers.AttendanceController.Create (GymManager.Web)'
2022-01-29 20:40:10.553 +00:00 [INF] Route matched with {action = "Create", controller = "Attendance", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Create() on controller GymManager.Web.Controllers.AttendanceController (GymManager.Web).
2022-01-29 20:40:21.982 +00:00 [INF] Executing ViewResult, running view Create.
2022-01-29 20:40:24.678 +00:00 [INF] Executed ViewResult - view Create executed in 14103.2128ms.
2022-01-29 20:40:24.680 +00:00 [INF] Executed action GymManager.Web.Controllers.AttendanceController.Create (GymManager.Web) in 14125.2384ms
2022-01-29 20:40:24.680 +00:00 [INF] Executed endpoint 'GymManager.Web.Controllers.AttendanceController.Create (GymManager.Web)'
2022-01-29 20:40:24.705 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/Attendance/Create - - - 200 - text/html;+charset=utf-8 19365.5519ms
2022-01-29 20:40:28.269 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/img/icon.png - -
2022-01-29 20:40:28.295 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/Views/Attendance/Create.js - -
2022-01-29 20:40:28.361 +00:00 [INF] Sending file. Request path: '/Views/Attendance/Create.js'. Physical path: '/workspace/GymManager.Web/GymManager.Web/wwwroot/Views/Attendance/Create.js'
2022-01-29 20:40:28.362 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/Views/Attendance/Create.js - - - 200 115 application/javascript 67.3682ms
2022-01-29 20:40:28.367 +00:00 [INF] Sending file. Request path: '/img/icon.png'. Physical path: '/workspace/GymManager.Web/GymManager.Web/wwwroot/img/icon.png'
2022-01-29 20:40:28.369 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/img/icon.png - - - 200 852 image/png 99.8595ms
2022-01-29 20:40:29.230 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/favicon.ico - -
2022-01-29 20:40:29.279 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/favicon.ico - - - 0 - - 49.4392ms
2022-01-29 20:41:24.073 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5097/Attendance/Create application/x-www-form-urlencoded 329
2022-01-29 20:41:24.082 +00:00 [INF] Executing endpoint 'GymManager.Web.Controllers.AttendanceController.Create (GymManager.Web)'
2022-01-29 20:41:24.155 +00:00 [INF] Route matched with {action = "Create", controller = "Attendance", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(GymManager.Web.Models.MemberViewModel) on controller GymManager.Web.Controllers.AttendanceController (GymManager.Web).
2022-01-29 20:41:24.429 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 20:41:25.057 +00:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@p0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Cities` (`Name`)
VALUES (@p0);
SELECT `Id`
FROM `Cities`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2022-01-29 20:41:25.127 +00:00 [ERR] An exception occurred in the database while saving changes for context type 'GymManager.DataAccess.GymManagerContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Column 'Name' cannot be null
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 44
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 127
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 456
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 330
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 323
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Column 'Name' cannot be null
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 44
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 127
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 456
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 330
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 323
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-01-29 20:41:25.145 +00:00 [INF] Executed action GymManager.Web.Controllers.AttendanceController.Create (GymManager.Web) in 989.7838ms
2022-01-29 20:41:25.148 +00:00 [INF] Executed endpoint 'GymManager.Web.Controllers.AttendanceController.Create (GymManager.Web)'
2022-01-29 20:41:25.157 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: entity could not be saved: An error occurred while saving the entity changes. See the inner exception for details.
   at GymManager.DataAccess.Repositories.Repository`2.AddAsync(TEntity entity) in /workspace/GymManager.Web/GymManager.DataAccess/Repositories/Repository.cs:line 46
   at GymManager.ApplicationServices.Members.MembersAppService.AddMemberAsync(Member member) in /workspace/GymManager.Web/GymManager.ApplicationServices/Members/MembersAppService.cs:line 22
   at GymManager.Web.Controllers.AttendanceController.Create(MemberViewModel viewModel) in /workspace/GymManager.Web/GymManager.Web/Controllers/AttendanceController.cs:line 63
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-29 20:41:25.214 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5097/Attendance/Create application/x-www-form-urlencoded 329 - 500 - text/html;+charset=utf-8 1141.0734ms
2022-01-29 20:41:26.280 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/favicon.ico - -
2022-01-29 20:41:26.288 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/favicon.ico - - - 0 - - 7.6075ms
2022-01-29 20:45:40.716 +00:00 [INF] Application is shutting down...
2022-01-29 20:49:00.206 +00:00 [WRN] Storing keys in a directory '/home/lugo/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
2022-01-29 20:49:00.307 +00:00 [INF] User profile is available. Using '/home/lugo/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-01-29 20:49:01.026 +00:00 [INF] Now listening on: https://localhost:7097
2022-01-29 20:49:01.026 +00:00 [INF] Now listening on: http://localhost:5097
2022-01-29 20:49:01.027 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-01-29 20:49:01.028 +00:00 [INF] Hosting environment: Development
2022-01-29 20:49:01.028 +00:00 [INF] Content root path: /workspace/GymManager.Web/GymManager.Web/
2022-01-29 20:51:23.485 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/Attendance/Create - -
2022-01-29 20:51:24.269 +00:00 [INF] Executing endpoint 'GymManager.Web.Controllers.AttendanceController.Create (GymManager.Web)'
2022-01-29 20:51:24.291 +00:00 [INF] Route matched with {action = "Create", controller = "Attendance", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Create() on controller GymManager.Web.Controllers.AttendanceController (GymManager.Web).
2022-01-29 20:51:33.928 +00:00 [INF] Executing ViewResult, running view Create.
2022-01-29 20:51:36.335 +00:00 [INF] Executed ViewResult - view Create executed in 12026.1148ms.
2022-01-29 20:51:36.341 +00:00 [INF] Executed action GymManager.Web.Controllers.AttendanceController.Create (GymManager.Web) in 12048.5629ms
2022-01-29 20:51:36.342 +00:00 [INF] Executed endpoint 'GymManager.Web.Controllers.AttendanceController.Create (GymManager.Web)'
2022-01-29 20:51:36.358 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/Attendance/Create - - - 200 - text/html;+charset=utf-8 12880.2115ms
2022-01-29 20:51:37.109 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/Views/Attendance/Create.js - -
2022-01-29 20:51:37.176 +00:00 [INF] Sending file. Request path: '/Views/Attendance/Create.js'. Physical path: '/workspace/GymManager.Web/GymManager.Web/wwwroot/Views/Attendance/Create.js'
2022-01-29 20:51:37.177 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/Views/Attendance/Create.js - - - 0 115 application/javascript 67.5970ms
2022-01-29 20:51:37.595 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/favicon.ico - -
2022-01-29 20:51:37.628 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/favicon.ico - - - 0 - - 32.8933ms
2022-01-29 20:52:34.757 +00:00 [INF] Application is shutting down...
2022-01-29 20:52:47.852 +00:00 [WRN] Storing keys in a directory '/home/lugo/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
2022-01-29 20:52:47.934 +00:00 [INF] User profile is available. Using '/home/lugo/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-01-29 20:52:48.488 +00:00 [INF] Now listening on: https://localhost:7097
2022-01-29 20:52:48.488 +00:00 [INF] Now listening on: http://localhost:5097
2022-01-29 20:52:48.488 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-01-29 20:52:48.489 +00:00 [INF] Hosting environment: Development
2022-01-29 20:52:48.489 +00:00 [INF] Content root path: /workspace/GymManager.Web/GymManager.Web/
2022-01-29 20:52:54.394 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/Attendance/Create - -
2022-01-29 20:52:55.354 +00:00 [INF] Executing endpoint 'GymManager.Web.Controllers.AttendanceController.Create (GymManager.Web)'
2022-01-29 20:52:55.376 +00:00 [INF] Route matched with {action = "Create", controller = "Attendance", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Create() on controller GymManager.Web.Controllers.AttendanceController (GymManager.Web).
2022-01-29 20:53:05.181 +00:00 [INF] Executing ViewResult, running view Create.
2022-01-29 20:53:07.776 +00:00 [INF] Executed ViewResult - view Create executed in 12372.4754ms.
2022-01-29 20:53:07.780 +00:00 [INF] Executed action GymManager.Web.Controllers.AttendanceController.Create (GymManager.Web) in 12403.4273ms
2022-01-29 20:53:07.781 +00:00 [INF] Executed endpoint 'GymManager.Web.Controllers.AttendanceController.Create (GymManager.Web)'
2022-01-29 20:53:07.797 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/Attendance/Create - - - 200 - text/html;+charset=utf-8 13414.4278ms
2022-01-29 20:53:09.211 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/js/moment.js - -
2022-01-29 20:53:09.217 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/Views/Attendance/Create.js - -
2022-01-29 20:53:09.227 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/bootstrap/js/bootstrap.bundle.min.js - -
2022-01-29 20:53:09.282 +00:00 [INF] The file /bootstrap/js/bootstrap.bundle.min.js was not modified
2022-01-29 20:53:09.284 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/bootstrap/js/bootstrap.bundle.min.js - - - 304 - application/javascript 56.8554ms
2022-01-29 20:53:09.283 +00:00 [INF] The file /Views/Attendance/Create.js was not modified
2022-01-29 20:53:09.283 +00:00 [INF] The file /js/moment.js was not modified
2022-01-29 20:53:09.285 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/js/moment.js - - - 304 - application/javascript 74.3073ms
2022-01-29 20:53:09.286 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/img/icon.png - -
2022-01-29 20:53:09.287 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/Views/Attendance/Create.js - - - 304 - application/javascript 68.3964ms
2022-01-29 20:53:09.290 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/lib/jqueryui/jquery-ui.min.js - -
2022-01-29 20:53:09.299 +00:00 [INF] The file /img/icon.png was not modified
2022-01-29 20:53:09.299 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/img/icon.png - - - 304 - image/png 13.1848ms
2022-01-29 20:53:09.319 +00:00 [INF] The file /lib/jqueryui/jquery-ui.min.js was not modified
2022-01-29 20:53:09.320 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/lib/jqueryui/jquery-ui.min.js - - - 304 - application/javascript 30.8169ms
2022-01-29 20:53:39.166 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5097/Attendance/Create application/x-www-form-urlencoded 321
2022-01-29 20:53:39.184 +00:00 [INF] Executing endpoint 'GymManager.Web.Controllers.AttendanceController.Create (GymManager.Web)'
2022-01-29 20:53:39.236 +00:00 [INF] Route matched with {action = "Create", controller = "Attendance", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(GymManager.Web.Models.MemberViewModel) on controller GymManager.Web.Controllers.AttendanceController (GymManager.Web).
2022-01-29 20:53:41.554 +00:00 [INF] Entity Framework Core 6.0.1 initialized 'GymManagerContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.1' with options: ServerVersion 8.0.21-mysql 
2022-01-29 20:53:42.740 +00:00 [ERR] Failed executing DbCommand (255ms) [Parameters=[@p0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Cities` (`Name`)
VALUES (@p0);
SELECT `Id`
FROM `Cities`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2022-01-29 20:53:42.846 +00:00 [ERR] An exception occurred in the database while saving changes for context type 'GymManager.DataAccess.GymManagerContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Column 'Name' cannot be null
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 44
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 127
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 456
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 330
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 323
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Column 'Name' cannot be null
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 44
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 127
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 456
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 330
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 323
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-01-29 20:53:42.856 +00:00 [INF] Executed action GymManager.Web.Controllers.AttendanceController.Create (GymManager.Web) in 3619.688ms
2022-01-29 20:53:42.857 +00:00 [INF] Executed endpoint 'GymManager.Web.Controllers.AttendanceController.Create (GymManager.Web)'
2022-01-29 20:53:42.863 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: entity could not be saved: An error occurred while saving the entity changes. See the inner exception for details.
   at GymManager.DataAccess.Repositories.Repository`2.AddAsync(TEntity entity) in /workspace/GymManager.Web/GymManager.DataAccess/Repositories/Repository.cs:line 46
   at GymManager.ApplicationServices.Members.MembersAppService.AddMemberAsync(Member member) in /workspace/GymManager.Web/GymManager.ApplicationServices/Members/MembersAppService.cs:line 22
   at GymManager.Web.Controllers.AttendanceController.Create(MemberViewModel viewModel) in /workspace/GymManager.Web/GymManager.Web/Controllers/AttendanceController.cs:line 63
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-01-29 20:53:42.942 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5097/Attendance/Create application/x-www-form-urlencoded 321 - 500 - text/html;+charset=utf-8 3776.0463ms
2022-01-29 23:39:13.439 +00:00 [INF] Application is shutting down...
2022-01-29 23:40:46.725 +00:00 [WRN] Storing keys in a directory '/home/lugo/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
2022-01-29 23:40:46.862 +00:00 [INF] User profile is available. Using '/home/lugo/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-01-29 23:40:47.957 +00:00 [INF] Now listening on: https://localhost:7097
2022-01-29 23:40:47.971 +00:00 [INF] Now listening on: http://localhost:5097
2022-01-29 23:40:47.971 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-01-29 23:40:47.972 +00:00 [INF] Hosting environment: Development
2022-01-29 23:40:47.972 +00:00 [INF] Content root path: /workspace/GymManager.Web/GymManager.Web/
2022-01-29 23:42:05.072 +00:00 [INF] Application is shutting down...
